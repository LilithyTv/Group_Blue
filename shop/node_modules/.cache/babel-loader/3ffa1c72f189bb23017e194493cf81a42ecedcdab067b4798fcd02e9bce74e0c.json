{"ast":null,"code":"import{createContext,useEffect,useState}from\"react\";import{PRODUCTS}from'../pages/cart/Productsfront';import{jsx as _jsx}from\"react/jsx-runtime\";export const ShopContext=/*#__PURE__*/createContext(null);const getDefaultCart=()=>{let cart={};for(let i=1;i<PRODUCTS.length+1;i++){cart[i]=0;}return cart;};export const ShopContextProvider=props=>{const[cartItems,setCartItems]=useState(getDefaultCart());const getTotalCartAmount=()=>{let totalAmount=0;for(const item in cartItems){if(cartItems[item]>0){let itemInfo=PRODUCTS.find(product=>product.id===Number(item));totalAmount+=cartItems[item]*itemInfo.price;}}return totalAmount;};const addToCart=itemId=>{setCartItems(prev=>({...prev,[itemId]:prev[itemId]+1}));};const removeFromCart=itemId=>{setCartItems(prev=>({...prev,[itemId]:prev[itemId]-1}));};const updateCartItemCount=(newAmount,itemId)=>{setCartItems(prev=>({...prev,[itemId]:newAmount}));};const checkout=()=>{setCartItems(getDefaultCart());};const contextValue={cartItems,addToCart,updateCartItemCount,removeFromCart,getTotalCartAmount,checkout};return/*#__PURE__*/_jsx(ShopContext.Provider,{value:contextValue,children:props.children});};","map":{"version":3,"names":["createContext","useEffect","useState","PRODUCTS","jsx","_jsx","ShopContext","getDefaultCart","cart","i","length","ShopContextProvider","props","cartItems","setCartItems","getTotalCartAmount","totalAmount","item","itemInfo","find","product","id","Number","price","addToCart","itemId","prev","removeFromCart","updateCartItemCount","newAmount","checkout","contextValue","Provider","value","children"],"sources":["C:/Users/lilyi/Documents/final/Group_Blue/shop/src/context/shop-context.jsx"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\nimport { PRODUCTS } from '../pages/cart/Productsfront';\n\n\n\nexport const ShopContext = createContext(null);\n\nconst getDefaultCart = () => {\n  let cart = {};\n  for (let i = 1; i < PRODUCTS.length + 1; i++) {\n    cart[i] = 0;\n  }\n  return cart;\n};\n\nexport const ShopContextProvider = (props) => {\n  const [cartItems, setCartItems] = useState(getDefaultCart());\n\n  const getTotalCartAmount = () => {\n    let totalAmount = 0;\n    for (const item in cartItems) {\n      if (cartItems[item] > 0) {\n        let itemInfo = PRODUCTS.find((product) => product.id === Number(item));\n        totalAmount += cartItems[item] * itemInfo.price;\n      }\n    }\n    return totalAmount;\n  };\n\n  const addToCart = (itemId) => {\n    setCartItems((prev) => ({ ...prev, [itemId]: prev[itemId] + 1 }));\n  };\n\n  const removeFromCart = (itemId) => {\n    setCartItems((prev) => ({ ...prev, [itemId]: prev[itemId] - 1 }));\n  };\n\n  const updateCartItemCount = (newAmount, itemId) => {\n    setCartItems((prev) => ({ ...prev, [itemId]: newAmount }));\n  };\n\n  const checkout = () => {\n    setCartItems(getDefaultCart());\n  };\n\n  const contextValue = {\n    cartItems,\n    addToCart,\n    updateCartItemCount,\n    removeFromCart,\n    getTotalCartAmount,\n    checkout,\n  };\n\n  return (\n    <ShopContext.Provider value={contextValue}>\n      {props.children}\n    </ShopContext.Provider>\n  );\n};\n"],"mappings":"AAAA,OAASA,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,OAASC,QAAQ,KAAQ,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAIvD,MAAO,MAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,IAAI,CAAC,CAE9C,KAAM,CAAAO,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAI,CAAAC,IAAI,CAAG,CAAC,CAAC,CACb,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGN,QAAQ,CAACO,MAAM,CAAG,CAAC,CAAED,CAAC,EAAE,CAAE,CAC5CD,IAAI,CAACC,CAAC,CAAC,CAAG,CAAC,CACb,CACA,MAAO,CAAAD,IAAI,CACb,CAAC,CAED,MAAO,MAAM,CAAAG,mBAAmB,CAAIC,KAAK,EAAK,CAC5C,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGZ,QAAQ,CAACK,cAAc,CAAC,CAAC,CAAC,CAE5D,KAAM,CAAAQ,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,GAAI,CAAAC,WAAW,CAAG,CAAC,CACnB,IAAK,KAAM,CAAAC,IAAI,GAAI,CAAAJ,SAAS,CAAE,CAC5B,GAAIA,SAAS,CAACI,IAAI,CAAC,CAAG,CAAC,CAAE,CACvB,GAAI,CAAAC,QAAQ,CAAGf,QAAQ,CAACgB,IAAI,CAAEC,OAAO,EAAKA,OAAO,CAACC,EAAE,GAAKC,MAAM,CAACL,IAAI,CAAC,CAAC,CACtED,WAAW,EAAIH,SAAS,CAACI,IAAI,CAAC,CAAGC,QAAQ,CAACK,KAAK,CACjD,CACF,CACA,MAAO,CAAAP,WAAW,CACpB,CAAC,CAED,KAAM,CAAAQ,SAAS,CAAIC,MAAM,EAAK,CAC5BX,YAAY,CAAEY,IAAI,GAAM,CAAE,GAAGA,IAAI,CAAE,CAACD,MAAM,EAAGC,IAAI,CAACD,MAAM,CAAC,CAAG,CAAE,CAAC,CAAC,CAAC,CACnE,CAAC,CAED,KAAM,CAAAE,cAAc,CAAIF,MAAM,EAAK,CACjCX,YAAY,CAAEY,IAAI,GAAM,CAAE,GAAGA,IAAI,CAAE,CAACD,MAAM,EAAGC,IAAI,CAACD,MAAM,CAAC,CAAG,CAAE,CAAC,CAAC,CAAC,CACnE,CAAC,CAED,KAAM,CAAAG,mBAAmB,CAAGA,CAACC,SAAS,CAAEJ,MAAM,GAAK,CACjDX,YAAY,CAAEY,IAAI,GAAM,CAAE,GAAGA,IAAI,CAAE,CAACD,MAAM,EAAGI,SAAU,CAAC,CAAC,CAAC,CAC5D,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrBhB,YAAY,CAACP,cAAc,CAAC,CAAC,CAAC,CAChC,CAAC,CAED,KAAM,CAAAwB,YAAY,CAAG,CACnBlB,SAAS,CACTW,SAAS,CACTI,mBAAmB,CACnBD,cAAc,CACdZ,kBAAkB,CAClBe,QACF,CAAC,CAED,mBACEzB,IAAA,CAACC,WAAW,CAAC0B,QAAQ,EAACC,KAAK,CAAEF,YAAa,CAAAG,QAAA,CACvCtB,KAAK,CAACsB,QAAQ,CACK,CAAC,CAE3B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}